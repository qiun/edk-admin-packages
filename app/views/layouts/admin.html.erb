<!DOCTYPE html>
<html lang="pl">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>PAKIETY EDK - <%= content_for?(:title) ? yield(:title) : "Panel Koordynatora" %></title>
    <meta name="csrf-param" content="<%= request_forgery_protection_token %>" />
    <meta name="csrf-token" content="<%= form_authenticity_token %>" />
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@100..900&display=swap" rel="stylesheet">
    <%= stylesheet_link_tag "tailwind", "data-turbo-track": "reload" %>
    <%= stylesheet_link_tag "application", "data-turbo-track": "reload" %>
    <%= javascript_importmap_tags %>
    <style>
      body { font-family: 'Outfit', sans-serif; }
      :root {
        --color-brand-50: #ecf3ff;
        --color-brand-100: #dde9ff;
        --color-brand-500: #465fff;
        --color-brand-600: #3641f5;
      }
    </style>
  </head>

  <body
    x-data="{ sidebarToggle: false }"
    class="bg-gray-50 dark:bg-gray-900"
  >
    <!-- Page Wrapper -->
    <div class="flex h-screen overflow-hidden">
      <!-- Sidebar -->
      <% if current_user.leader? %>
        <%= render "shared/leader_sidebar" %>
      <% else %>
        <%= render "shared/admin_sidebar" %>
      <% end %>

      <!-- Content Area -->
      <div class="relative flex flex-1 flex-col overflow-x-hidden overflow-y-auto">
        <!-- Overlay for mobile -->
        <div
          x-show="sidebarToggle"
          @click="sidebarToggle = false"
          class="fixed inset-0 z-40 bg-black/50 lg:hidden"
          x-transition:enter="transition-opacity ease-linear duration-300"
          x-transition:enter-start="opacity-0"
          x-transition:enter-end="opacity-100"
          x-transition:leave="transition-opacity ease-linear duration-300"
          x-transition:leave-start="opacity-100"
          x-transition:leave-end="opacity-0"
          style="display: none;">
        </div>

        <!-- Header -->
        <%= render "shared/admin_header" %>

        <!-- Main Content -->
        <main>
          <div class="mx-auto max-w-screen-2xl p-4 md:p-6">
            <% if notice.present? %>
              <div class="mb-4 rounded-lg border border-green-200 bg-green-50 p-4 text-green-800 dark:border-green-800 dark:bg-green-900/30 dark:text-green-400">
                <div class="flex items-center">
                  <svg class="mr-2 h-5 w-5" fill="currentColor" viewBox="0 0 20 20">
                    <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"/>
                  </svg>
                  <%= notice %>
                </div>
              </div>
            <% end %>

            <% if alert.present? %>
              <div class="mb-4 rounded-lg border border-red-200 bg-red-50 p-4 text-red-800 dark:border-red-800 dark:bg-red-900/30 dark:text-red-400">
                <div class="flex items-center">
                  <svg class="mr-2 h-5 w-5" fill="currentColor" viewBox="0 0 20 20">
                    <path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z" clip-rule="evenodd"/>
                  </svg>
                  <%= alert %>
                </div>
              </div>
            <% end %>

            <%= yield %>
          </div>
        </main>
      </div>
    </div>
  </body>
</html>
